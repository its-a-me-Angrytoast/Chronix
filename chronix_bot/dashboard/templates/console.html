{% extends "base.html" %}
{% block content %}
  <h1>Bot Console</h1>
  <p class="lead">Live tail of `data/logs.jsonl` (last 200 lines). Auto-refreshes every 3s.</p>
  <div class="card">
    <pre id="console-output" style="height:480px;overflow:auto;background:transparent;border-radius:8px;padding:10px;color:var(--text);white-space:pre-wrap;font-family:monospace;font-size:12px"></pre>
  </div>
  <script>
    async function fetchLogs(){
      try{
        const r = await fetch('/console/logs');
        if(!r.ok) return;
        const data = await r.json();
        const out = document.getElementById('console-output');
        out.textContent = data.join('\n');
      }catch(e){ console.error(e); }
    }
    document.addEventListener('DOMContentLoaded', ()=>{ fetchLogs(); setInterval(fetchLogs,3000); });
  </script>
{% endblock %}
